<form class="form-group form col-md-12 page " (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Nom</label>
        <input required pattern="[^0-9]{2,30}"
          id="nameField" type="text" class="form-control" name="name"
          [(ngModel)]="user.nom" #name="ngModel"/>
        <span class="help-block text-danger" *ngIf="name.errors?.required">
          Veuillez entrer votre nom
        </span>
        <span class="help-block text-danger" *ngIf="name.errors?.pattern">
          Nom invalide
        </span>
      </div>
      <div class="form-group col-md-6">
        <label>Prenom</label>
        <input required pattern="[^0-9]{2,30}"
          id="fornameField" type="text" class="form-control" name="forname"
          [(ngModel)]="user.prenom" #forname="ngModel"/>
        <span class="help-block text-danger" *ngIf="forname.errors?.required">
          Veuillez entrer votre prénom
        </span>
        <span class="help-block text-danger" *ngIf="forname.errors?.pattern">
          Prénom invalide
        </span>
      </div>
  </div>

  <div id="civil" class="form-group">
    <label>Civilité</label>
    <select name="duration" [(ngModel)]="user.civilite"  class="form-control">
      <option selected>Madame</option>
      <option>Monsieur</option>            
    </select>
  </div> 

  <div class="form-row">
    <div class="form-group col-md-6">
      <label>Adresse</label>
      <input required pattern=".{6,}"
      id="addressField" type="text" class="form-control" name="address"
      [(ngModel)]="user.adresse" #address="ngModel">
      <span class="help-block text-danger" *ngIf="address.errors?.pattern || address.errors?.required">
        Adresse invalide
      </span>
    </div>
    <div class="form-group col-md-2">
      <label>Code postal</label>
      <input required pattern="[0-9]{5}"
      id="zipField" type="text" class="form-control" name="zip"
      [(ngModel)]="user.codePostal" #zip="ngModel">
      <span class="help-block text-danger" *ngIf="zip.errors?.pattern || zip.errors?.required">
        Code postal invalide
      </span>
    </div>
    <div class="form-group col-md-4">
      <label>Ville</label>
      <input required pattern="[^0-9]{1,60}"
      id="cityField" type="text" class="form-control" name="city"
      [(ngModel)]="user.ville" #city="ngModel"/>
      <span class="help-block text-danger" *ngIf="city.errors?.required">
        Veuillez entrer une ville
      </span>
      <span class="help-block text-danger" *ngIf="city.errors?.pattern">
        Le nom de la ville est invalide
      </span>
    </div>  
  </div> 

  <div class="form-row">
    <div class="form-group col-md-6">
      <label>Pays</label>
      <select (change)="getActualCountry($event)" id="inputCiv" class="form-control">
        <option *ngFor="let country of countryList">
          {{country.name}}
        </option>>            
      </select>
    </div>                  
    <div class="form-group col-md-6">
      <label>Téléphone</label>
      <input required pattern="[0-9]{10}"
      id="phoneField" type="text" class="form-control" name="phone"
      [(ngModel)]="user.tel" #phone="ngModel">
      <span class="help-block text-danger" *ngIf="phone.errors?.pattern || phone.errors?.required">
        Numéro invalide
      </span>
    </div>
  </div> 

  <div class="form-row">
    <div class="form-group col-md-6">
      <label>Nom d'utilisateur</label>
      <input required pattern=".{5,}"
      id="loginField" type="text" class="form-control" name="login"
      [(ngModel)]="user.username" #login="ngModel">
      <span class="help-block text-danger" *ngIf="login.errors?.pattern || login.errors?.required">
        Nom d'utilisateur trop court
      </span>
    </div>
    <div class="form-group col-md-6">
      <label>Mot de passe</label>
      <input required pattern=".{8,}"
         id="mdpField" type="password" class="form-control" name="mdp"
         [(ngModel)]="user.motDePasse" #mdp="ngModel">
      <span class="help-block text-danger" *ngIf="mdp.errors?.pattern || mdp.errors?.required">
        Mot de passe trop court
      </span>
    </div> 
  </div>

  <div class="form-group">
    <label>Email</label>
    <input required pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"
    id="mailField" type="text" class="form-control" name="email" [(ngModel)]="user.mail" #email="ngModel"
     />
  <span class="help-block text-danger" *ngIf="email.errors?.required">
    Veuillez entrer votre mail
  </span>
  <span class="help-block text-danger" *ngIf="email.errors?.pattern">
    Mail invalide
  </span>>
  </div> 
    
  <button type="submit" class="btn btn-primary">Sign in</button>
  <app-recap *ngIf="valid === true" [user]="postUser"></app-recap>
</form>